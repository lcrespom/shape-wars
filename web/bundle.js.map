{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "src/game.ts",
    "src/keyboard.ts",
    "src/main.ts",
    "src/shape.ts",
    "src/ship.ts",
    "src/stars.ts"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "import { setupKeyboard } from './keyboard';\n\nexport interface GameElement {\n\tstep: (game: Game) => void;\n}\n\nexport interface Game {\n\telements: any;\n\tcanvas: HTMLCanvasElement;\n\tgc: CanvasRenderingContext2D;\n\ttime: number;\n\tfps: number;\n\tcpu: number;\n}\n\n\nexport function createGroup() {\n\treturn {\n\t\titems: [],\n\t\tstep(game: Game) {\n\t\t\tfor (let item of this.items)\n\t\t\t\titem.step(game);\n\t\t\tthis.items = this.items.filter(item => !item.dead);\n\t\t},\n\t\tadd(element: GameElement) {\n\t\t\tthis.items.push(element);\n\t\t}\n\t};\n}\n\nexport function gameSetup(): Game {\n\tsetupKeyboard();\n\tlet canvas = $('#game-canvas')[0] as HTMLCanvasElement;\n\tlet ctx = canvas.getContext('2d');\n\tif (!ctx)\n\t\tthrow Error('Could not setup canvas');\n\treturn {\n\t\telements: {},\n\t\tcanvas,\n\t\tgc: ctx,\n\t\ttime: Date.now(),\n\t\tfps: 0,\n\t\tcpu: 0\n\t};\n}\n\nfunction gameStep(game: Game) {\n\tgame.gc.clearRect(0, 0, game.canvas.width, game.canvas.height);\n\tfor (let key of Object.keys(game.elements))\n\t\tgame.elements[key].step(game);\n}\n\nlet fpsCT = 0;\n\nfunction gameTiming(game: Game, tBefore: number) {\n\tlet now = Date.now();\n\tlet elapsed = now - game.time;\n\tgame.time = now;\n\tgame.fps = 1000 / elapsed;\n\tgame.cpu = (now - tBefore) / elapsed;\n\tif ((++fpsCT) == 25) {\n\t\tfpsCT = 0;\n\t\t$('#fps').text(Math.round(game.fps));\n\t\t$('#cpu').text(Math.round(game.cpu * 100));\n\t}\n}\n\nexport function gameLoop(game: Game) {\n\twindow.requestAnimationFrame(_ => {\n\t\tlet tBefore = Date.now();\n\t\tgameStep(game);\n\t\tgameTiming(game, tBefore);\n\t\tgameLoop(game);\n\t});\n}\n",
    "const pressedKeys = {};\n\nexport function setupKeyboard(kbTarget = 'body') {\n\t$(kbTarget)\n\t.on('keydown', evt => {\n\t\t// Skip repetitions\n\t\tif (pressedKeys[evt.keyCode]) return;\n\t\t// Skip browser shortcuts\n\t\tif (evt.metaKey || evt.altKey || evt.ctrlKey) return;\n\t\tpressedKeys[evt.keyCode] = true;\n\t})\n\t.on('keyup', evt => {\n\t\tpressedKeys[evt.keyCode] = false;\n\t});\n}\n\nexport function isKeyPressed(keyCode) {\n\treturn pressedKeys[keyCode];\n}\n",
    "import { Game, createGroup, gameSetup, gameLoop } from './game';\nimport { setupStars } from './stars';\nimport { setupShip } from './ship';\n\n\nfunction initGame(): Game {\n\tlet game = gameSetup();\n\tgame.elements.stars = setupStars(game.canvas);\n\tgame.elements.ship = setupShip(game.canvas);\n\tgame.elements.bullets = createGroup();\n\treturn game;\n}\n\n$(function() {\n\tgameLoop(initGame());\n});\n",
    "export interface Shape {\n\tpaths: Path[];\n\tdraw: (gc: CanvasRenderingContext2D, x: number, y: number) => void;\n}\n\nexport interface Path {\n\tfillStyle: string;\n\tpoints: Point[];\n}\n\nexport interface Point {\n\tx: number;\n\ty: number;\n}\n\nexport function createShape(paths: Path[]): Shape {\n\treturn {\n\t\tpaths,\n\t\tdraw(gc: CanvasRenderingContext2D, x: number, y: number) {\n\t\t\tfor (let path of paths) {\n\t\t\t\tgc.beginPath();\n\t\t\t\tgc.fillStyle = path.fillStyle;\n\t\t\t\tgc.moveTo(x + path.points[0].x, y + path.points[0].y);\n\t\t\t\tfor (let i = 1; i < path.points.length; i++)\n\t\t\t\t\tgc.lineTo(x + path.points[i].x, y + path.points[i].y);\n\t\t\t\tgc.closePath();\n\t\t\t\tgc.fill();\n\t\t\t}\n\t\t}\n\t};\n}\n",
    "import { Game } from './game';\nimport { createShape } from './shape';\nimport { isKeyPressed } from './keyboard';\n\nconst KEY_LEFT = 90;\nconst KEY_RIGHT = 88;\nconst CURSOR_LEFT = 37;\nconst CURSOR_RIGHT = 39;\nconst KEY_FIRE = 77;\n\nconst FIRE_TIME = 30;\nconst BULLET_LENGTH = 6;\nconst BULLET_STROKE_STYLE = 'white';\n\nlet shipPaths = [{\n\tfillStyle: 'rgb(0, 192, 128)',\n\tpoints: [\n\t\t{ x: 0, y: 50 },\n\t\t{ x: 25, y: 0 },\n\t\t{ x: 50, y: 50 }\n\t]\n}];\n\nexport function setupShip(canvas: HTMLCanvasElement) {\n\tlet shape = createShape(shipPaths);\n\treturn {\n\t\tspeedY: 1,\n\t\tspeedX: 2,\n\t\tx: canvas.width / 2 - 25,\n\t\ty: canvas.height - 120,\n\t\tfireTime: 0,\n\t\tstep(game: Game) {\n\t\t\tthis.move();\n\t\t\tthis.fire(game);\n\t\t\tshape.draw(game.gc, this.x, this.y);\n\t\t},\n\t\tmove() {\n\t\t\tif ((isKeyPressed(KEY_LEFT) || isKeyPressed(CURSOR_LEFT))\n\t\t\t\t&& this.x > 5)\n\t\t\t\tthis.x -= this.speedX;\n\t\t\tif ((isKeyPressed(KEY_RIGHT) || isKeyPressed(CURSOR_RIGHT))\n\t\t\t\t&& this.x < canvas.width - 55)\n\t\t\t\tthis.x += this.speedX;\n\t\t},\n\t\tfire(game: Game) {\n\t\t\tif (this.fireTime > 0) this.fireTime--;\n\t\t\tif (!isKeyPressed(KEY_FIRE) || this.fireTime > 0) return;\n\t\t\tthis.fireTime = FIRE_TIME;\n\t\t\tgame.elements.bullets.add(createBullet(this.x + 25, this.y));\n\t\t\t// ToDo: create bullet & add it to game\n\t\t}\n\t};\n}\n\nfunction createBullet(x: number, y: number) {\n\treturn {\n\t\tx, y,\n\t\tstep(game: Game) {\n\t\t\tthis.draw(game.gc);\n\t\t\tthis.y -= 4;\n\t\t\tif (this.y < 0)\n\t\t\t\tthis.dead = true;\n\t\t},\n\t\tdraw(gc: CanvasRenderingContext2D) {\n\t\t\tgc.beginPath();\n\t\t\tgc.strokeStyle = BULLET_STROKE_STYLE;\n\t\t\tgc.moveTo(this.x, this.y);\n\t\t\tgc.lineTo(this.x, this.y - BULLET_LENGTH);\n\t\t\tgc.closePath();\n\t\t\tgc.stroke();\n\t\t}\n\t};\n}",
    "import { Game } from './game';\n\nconst NUM_STARS = 150;\n\ninterface Star {\n\tx: number;\n\ty: number;\n\tspeed: number;\n\tr: number;\n\tg: number;\n\tb: number;\n\t// ToDo: twinkle period, twinkle position\n}\n\n\nfunction initStar(w: number, h: number, str = { y: 0 }): Star {\n\tlet star = str as Star;\n\tstar.x = Math.random() * w;\n\tstar.y = star.y > 0 ? 0 : Math.random() * h;\n\tstar.speed = 0.1 + Math.random() * 0.9;\n\tlet randomColor = () => Math.round(128 + 127 * Math.random() * star.speed);\n\tstar.r = randomColor();\n\tstar.g = randomColor();\n\tstar.b = randomColor() & 252;\t// Background objects have 2 last bits to 0\n\treturn star;\n}\n\nfunction initStars(w: number, h: number): Star[] {\n\tlet stars: Star[] = [];\n\tfor (let i = 0; i < NUM_STARS; i++) {\n\t\tstars.push(initStar(w, h));\n\t}\n\treturn stars;\n}\n\nexport function setupStars(canvas: HTMLCanvasElement) {\n\treturn {\n\t\tstars: initStars(canvas.width, canvas.height),\n\t\tdrawStar(gc: CanvasRenderingContext2D, star: Star) {\n\t\t\tgc.fillStyle = `rgb(${star.r}, ${star.g}, ${star.b})`;\n\t\t\tgc.fillRect(star.x, star.y, 2, 2);\n\t\t},\n\t\tstep(game: Game) {\n\t\t\tfor (let star of this.stars) {\n\t\t\t\tthis.drawStar(game.gc, star);\n\t\t\t\tstar.y += star.speed * game.elements.ship.speedY;\n\t\t\t\tif (star.y > canvas.height)\n\t\t\t\t\tinitStar(canvas.width, canvas.height, star);\n\t\t\t}\n\t\t}\n\t};\n}\n"
  ]
}