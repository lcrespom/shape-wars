{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "src/main.ts"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "interface GameElement {\n\tstep: (game: Game) => void;\n}\n\ninterface Game {\n\telements: {\n\t\t[ename: string]: GameElement;\n\t};\n\tcanvas: HTMLCanvasElement;\n\tgc: CanvasRenderingContext2D;\n\ttime: number;\n}\n\n/*-------------------- Stars --------------------*/\n\nconst NUM_STARS = 100;\n\ninterface Star {\n\tx: number;\n\ty: number;\n\tspeed: number;\n\t//ToDo: RGB, speed, twinkle period, twinkle position\n}\n\nfunction initStar(w: number, h: number,\n\tstar = { x: 0, y: 0, speed: 0 }): Star {\n\tstar.x = Math.random() * w;\n\tstar.y = star.y > 0 ? 0 : Math.random() * h;\n\tstar.speed = 0.1 + Math.random() * 0.9;\n\treturn star;\n}\n\nfunction initStars(w: number, h: number): Star[] {\n\tlet stars: Star[] = [];\n\tfor (let i = 0; i < NUM_STARS; i++) {\n\t\tstars.push(initStar(w, h));\n\t}\n\treturn stars;\n}\n\nfunction setupStars(canvas: HTMLCanvasElement, gc: CanvasRenderingContext2D) {\n\tlet imgData = gc.createImageData(1, 1);\n\tlet pixel = imgData.data;\n\treturn {\n\t\tstars: initStars(canvas.width, canvas.height),\n\t\tpixel,\n\t\tputPixel(x: number, y: number,\n\t\t\tr: number, g: number, b: number, a: number) {\n\t\t\tthis.pixel[0] = r;\n\t\t\tthis.pixel[1] = g;\n\t\t\tthis.pixel[2] = b;\n\t\t\tthis.pixel[3] = a;\n\t\t\tgc.putImageData(imgData, x, y);\n\t\t},\n\t\tstep() {\n\t\t\tfor (let star of this.stars) {\n\t\t\t\tlet f = 255 << 0;\n\t\t\t\tthis.putPixel(star.x, star.y, f, f, f, f);\n\t\t\t\tstar.y += star.speed;\n\t\t\t\tif (star.y > canvas.height)\n\t\t\t\t\tinitStar(canvas.width, canvas.height, star);\n\t\t\t}\n\t\t}\n\t};\n}\n\n\n/*-------------------- Main game engine --------------------*/\n\nfunction gameSetup(): Game {\n\tlet canvas = $('#game-canvas')[0] as HTMLCanvasElement;\n\tlet ctx = canvas.getContext('2d');\n\tif (!ctx)\n\t\tthrow Error('Could not setup canvas');\n\treturn {\n\t\telements: {\n\t\t\tstars: setupStars(canvas, ctx)\n\t\t},\n\t\tcanvas,\n\t\tgc: ctx,\n\t\ttime: Date.now()\n\t};\n}\n\nfunction gameStep(game: Game) {\n\tgame.gc.clearRect(0, 0, game.canvas.width, game.canvas.height);\n\tfor (let key of Object.keys(game.elements))\n\t\tgame.elements[key].step(game);\n}\n\nfunction gameLoop(game: Game) {\n\twindow.requestAnimationFrame(_ => {\n\t\t//ToDo: measure FPS\n\t\tgameStep(game);\n\t\tgameLoop(game);\n\t});\n}\n\n$(function() {\n\tlet game = gameSetup();\n\tgameLoop(game);\n});\n"
  ]
}